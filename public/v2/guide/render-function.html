


<!DOCTYPE html>
<html lang="ja">
  <head><meta name="generator" content="Hexo 3.8.0">
    <title>描画関数とJSX — Vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - The Progressive JavaScript Framework">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/guide/render-function.html">
    <link rel="alternate" hreflang="es" href="https://es.vuejs.org/v2/guide/render-function.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="描画関数とJSX — Vue.js">
    <meta property="og:description" content="Vue.js - The Progressive JavaScript Framework">
    <meta property="og:image" content="https://jp.vuejs.org//images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="描画関数とJSX — Vue.js">
    <meta name="twitter:description" content="Vue.js - The Progressive JavaScript Framework">
    <meta name="twitter:image" content="https://jp.vuejs.org/images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href="https://fonts.googleapis.com" rel="preconnect" crossorigin="">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
    <link href="https://maxcdn.bootstrapcdn.com" rel="preconnect" crossorigin="">

    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Dosis:500&text=Vue.js&display=swap" rel="stylesheet">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>

    

    <script>
      Vue.config.productionTip = false
      window.PAGE_TYPE = "guide"
    </script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-1', 'jp.vuejs.org');
      ga('send', 'pageview');
    </script>

    <!-- vimeo analytics -->
    <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
  </head>
  <body class="docs">
    <div id="mobile-bar">
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <header id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png" alt="vue logo">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input" aria-label="検索">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">学ぶ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>ドキュメント</h4></li>
    <li>
      <ul>
        <li><a href="/v2/guide/" class="nav-link current">ガイド</a></li>
        <li><a href="/v2/api/" class="nav-link">API</a></li>
        <li><a href="/v2/style-guide/" class="nav-link">スタイルガイド</a></li>
        <li><a href="/v2/examples/" class="nav-link">例</a></li>
        <li><a href="/v2/cookbook/" class="nav-link">クックブック</a></li>
      </ul>
    </li>
    <li><h4>ビデオコース</h4></li>
    <li>
      <ul>
        <li>
          <a href="https://www.vuemastery.com/courses/" class="nav-link" target="_blank" rel="sponsored noopener">
            Vue Mastery
          </a>
        </li>
        <li>
          <a href="https://vueschool.io/?friend=vuejs&utm_source=Vuejs.org&utm_medium=Link&utm_content=Navbar%20Dropdown" class="nav-link" target="_blank" rel="sponsored noopener">
            Vue School
          </a>
        </li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">エコシステム</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>ヘルプ</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/" class="nav-link" target="_blank" rel="noopener">フォーラム</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank" rel="noopener">チャット(公式)</a></li>
      <li><a href="https://vuejs-jp-slackin.herokuapp.com" class="nav-link" target="_blank" rel="noopener">チャット(日本向け)</a></li>
      <li><a href="https://events.vuejs.org/meetups/" class="nav-link" target="_blank" rel="noopener">ミートアップ</a></li>
    </ul></li>
    <li><h4>開発ツール</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank" rel="noopener">Devtools</a></li>
        <li><a href="https://cli.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue CLI</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank" rel="noopener">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>コアライブラリ</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/ja/" class="nav-link" target="_blank" rel="noopener">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/ja/" class="nav-link" target="_blank" rel="noopener">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/ja/" class="nav-link" target="_blank" rel="noopener">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>ニュース</h4></li>
    <li><ul>
      <li><a href="https://news.vuejs.org" class="nav-link" target="_blank" rel="noopener">ウィークリーニュース</a></li>
      <li><a href="https://github.com/vuejs/vue/projects/6" class="nav-link" target="_blank" rel="noopener">ロードマップ</a></li>
      <li><a href="https://events.vuejs.org/" class="nav-link" target="_blank" rel="noopener">イベント</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank" rel="noopener">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank" rel="noopener">ブログ(英語)</a></li>
      <li><a href="/blog/" class="nav-link" target="_blank" rel="noopener">ブログ(日本語訳)</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank" rel="noopener">ジョブ(海外)</a></li>
      <li><a href="https://dev.to/t/vue" class="nav-link" target="_blank" rel="noopener">DEV コミュニティ</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">チーム</a>
</li>
<li>
  <a href="/contribution/" class="nav-link">貢献</a>
</li>
<li class="nav-dropdown-container resources">
  <a href="#" class="nav-link">リソース</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/resources/partners.html" class="nav-link">パートナー</a></li>
    <li><a href="/resources/themes.html" class="nav-link">テーマ</a></li>
    <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank" rel="noopener">Awesome Vue</a></li>
    <li><a href="https://awesomejs.dev/for/vue/" class="nav-link" target="_blank" rel="noopener">Browse packages for Vue</a></li>
  </ul>
</li>

<!-- <li>
  <a href="/partners" class="nav-link ">Partners</a>
</li> -->
<li class="nav-dropdown-container support-vue">
  <a href="/support-vuejs/" class="nav-link">Vue を支援する</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/support-vuejs/#1回きりの支援" class="nav-link">1回きりの支援</a></li>
    <li><a href="/support-vuejs/#継続的な支援" class="nav-link">継続的な支援</a></li>
    <li><a href="https://vue.threadless.com" target="_blank" rel="noopener" class="nav-link">Tシャツ ショップ</a></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">言語</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/guide/render-function.html" class="nav-link">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/guide/render-function.html" class="nav-link">中文</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/render-function.html" class="nav-link">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/render-function.html" class="nav-link">한국어</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/render-function.html" class="nav-link">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/render-function.html" class="nav-link">Français</a></li>
    <li><a href="https://vi.vuejs.org/v2/guide/render-function.html" class="nav-link">Tiếng Việt</a></li>
    <li><a href="https://es.vuejs.org/v2/guide/render-function.html" class="nav-link">Español</a></li>
    <li><a href="https://docs.vuejs.id/v2/guide/render-function.html" class="nav-link">Bahasa Indonesia</a></li>
  </ul>
</li>


  </ul>
</header>

    
      <div id="main" class="fix-sidebar">
        
  

<div class="sidebar">
  <div class="sidebar-inner">
    
    <div class="list">
      <div id="sidebar-sponsors-special">
  <div class="main-sponsor">
    <span>スペシャルスポンサー</span>
    <div>
    <a href="https://autocode.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/autocode.svg" alt="Autocode">
    </a>
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-left">
  <div class="main-sponsor">
    <span>プラチナスポンサー</span>
    <div>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://retool.com/?utm_source=sponsor&utm_campaign=vue" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/retool.png" alt="Retool">
    </a>
    <a href="https://passionatepeople.io/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/passionate_people.png" alt="Passionate People">
    </a>
    <a href="https://www.storyblok.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/storyblok.png" alt="Storyblok">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    スポンサーになる
  </a>
</div>



      
        <h2>
          
          ガイド
          
            <select class="version-select">
              <option value="SELF" selected>2.x</option>
              <option value="v1">1.0</option>
              <option value="012">0.12</option>
            </select>
          
        </h2>
        <ul class="menu-root">
  
    
    
      
        <li><h3>基本的な使い方</h3></li>
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/installation.html" class="sidebar-link">インストール</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/index.html" class="sidebar-link">はじめに</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/instance.html" class="sidebar-link">Vue インスタンス</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/syntax.html" class="sidebar-link">テンプレート構文</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/computed.html" class="sidebar-link">算出プロパティとウォッチャ</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/class-and-style.html" class="sidebar-link">クラスとスタイルのバインディング</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/conditional.html" class="sidebar-link">条件付きレンダリング</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/list.html" class="sidebar-link">リストレンダリング</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/events.html" class="sidebar-link">イベントハンドリング</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/forms.html" class="sidebar-link">フォーム入力バインディング</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components.html" class="sidebar-link">コンポーネントの基本</a>
    </li>
  
    
    
      
      
        <li><h3>コンポーネントの詳細</h3></li>
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-registration.html" class="sidebar-link">コンポーネントの登録</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-props.html" class="sidebar-link">プロパティ</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-custom-events.html" class="sidebar-link">カスタムイベント</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-slots.html" class="sidebar-link">スロット</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-dynamic-async.html" class="sidebar-link">動的 & 非同期コンポーネント</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/components-edge-cases.html" class="sidebar-link">特別な問題に対処する</a>
    </li>
  
    
    
      
      
      
        <li><h3>トランジションとアニメーション</h3></li>
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/transitions.html" class="sidebar-link">Enter/Leave とトランジション一覧</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/transitioning-state.html" class="sidebar-link">状態のトランジション</a>
    </li>
  
    
    
      
      
      
      
        <li><h3>再利用と構成</h3></li>
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/mixins.html" class="sidebar-link">ミックスイン</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/custom-directive.html" class="sidebar-link">カスタムディレクティブ</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/render-function.html" class="sidebar-link current">描画関数とJSX</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/plugins.html" class="sidebar-link">プラグイン</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/filters.html" class="sidebar-link">フィルター</a>
    </li>
  
    
    
      
      
      
      
      
        <li><h3>ツール</h3></li>
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/single-file-components.html" class="sidebar-link">単一ファイルコンポーネント</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/unit-testing.html" class="sidebar-link">単体テスト</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/typescript.html" class="sidebar-link">TypeScript のサポート</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/deployment.html" class="sidebar-link">プロダクション環境への配信</a>
    </li>
  
    
    
      
      
      
      
      
      
        <li><h3>スケールアップ</h3></li>
      
      
      
      
    
    <li>
      <a href="/v2/guide/routing.html" class="sidebar-link">ルーティング</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/state-management.html" class="sidebar-link">状態管理</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/ssr.html" class="sidebar-link">サーバサイドレンダリング</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/security.html" class="sidebar-link">セキュリティ</a>
    </li>
  
    
    
      
      
      
      
      
      
      
        <li><h3>内部</h3></li>
      
      
      
    
    <li>
      <a href="/v2/guide/reactivity.html" class="sidebar-link">リアクティブの探求</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
        <li><h3>移行</h3></li>
      
      
    
    <li>
      <a href="/v2/guide/migration.html" class="sidebar-link">Vue 1.x からの移行</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/migration-vue-router.html" class="sidebar-link">Vue Router 0.7.x からの移行</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/migration-vuex.html" class="sidebar-link">Vuex 0.6.x から 1.0 への移行</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
        <li><h3>その他</h3></li>
      
    
    <li>
      <a href="/v2/guide/comparison.html" class="sidebar-link">他のフレームワークとの比較</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/join.html" class="sidebar-link">Vue.js コミュニティへ参加しましょう!</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/v2/guide/team.html" class="sidebar-link">チームに会おう</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-right">
  <div class="main-sponsor">
    <span>プラチナスポンサー</span>
    <div>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://retool.com/?utm_source=sponsor&utm_campaign=vue" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/retool.png" alt="Retool">
    </a>
    <a href="https://passionatepeople.io/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/passionate_people.png" alt="Passionate People">
    </a>
    <a href="https://www.storyblok.com" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/storyblok.png" alt="Storyblok">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    スポンサーになる
  </a>
</div>




<div class="content guide with-sidebar render-function-guide">
  
    
      
<div id="ad">
  <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CKYIK2QU&placement=vuejsorg" id="_carbonads_js">
  </script>
</div>


    
  
  
    <h1>描画関数とJSX</h1>
  
  <p class="updated">最終更新日: 2019年7月6日</p>
  
  
    <h2 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h2><p>Vue ではほとんどの場合 HTML をビルドするためにテンプレートを使うことが推奨されます。しかし、JavaScript による完全なプログラミングパワーを必要とする状況もあります。そこでテンプレートへの代替で、よりコンパイラに近い <strong>描画 (render) 関数</strong>が使用できます。</p>
<p><code>render</code> 関数が実用的になりうる簡単な例を見てみましょう。では、アンカーヘッダを生成したいとします。</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hello-world"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#hello-world"</span>&gt;</span>
    Hello world!
  <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></code></pre>

<p>上記の HTML に対して、望ましいコンポーネントのインターフェイスを決めましょう。</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">anchored-heading</span> <span class="hljs-attr">:level</span>=<span class="hljs-string">"1"</span>&gt;</span>Hello world!<span class="hljs-tag">&lt;/<span class="hljs-name">anchored-heading</span>&gt;</span></code></pre>

<p><code>level</code> プロパティを元にしてヘッダを生成するだけのコンポーネントから始める時、すぐに以下の例にたどり着くでしょう。</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/x-template"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"anchored-heading-template"</span>&gt;</span><span class="xml">
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"level === 2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"level === 3"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"level === 4"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"level === 5"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h6</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"level === 6"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">h6</span>&gt;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>

<pre><code class="hljs js">Vue.component(<span class="hljs-string">'anchored-heading'</span>, &#123;
  <span class="hljs-attr">template</span>: <span class="hljs-string">'#anchored-heading-template'</span>,
  <span class="hljs-attr">props</span>: &#123;
    <span class="hljs-attr">level</span>: &#123;
      <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
    &#125;
  &#125;
&#125;)</code></pre>

<p>このテンプレートは良い気がしません。冗長なだけでなく、全てのヘッダレベルで <code>&lt;slot&gt;&lt;/slot&gt;</code> を重複させており、アンカー要素を追加したい時に同じことをする必要があります。</p>
<p>テンプレートはほとんどのコンポーネントでうまく動作しますが、この例はそうではないことが明確です。では、 <code>render</code> 関数を使ってこれを書き直してみましょう。</p>
<pre><code class="hljs js">Vue.component(<span class="hljs-string">'anchored-heading'</span>, &#123;
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
    <span class="hljs-keyword">return</span> createElement(
      <span class="hljs-string">'h'</span> + <span class="hljs-keyword">this</span>.level,   <span class="hljs-comment">// タグ名</span>
      <span class="hljs-keyword">this</span>.$slots.default <span class="hljs-comment">// 子の配列</span>
    )
  &#125;,
  <span class="hljs-attr">props</span>: &#123;
    <span class="hljs-attr">level</span>: &#123;
      <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
    &#125;
  &#125;
&#125;)</code></pre>

<p>少しシンプルになりましたね！コードは短くなりましたが、Vue インスタンスプロパティの豊富な知識を必要とします。このケースでは、 <code>v-slot</code> ディレクティブ無しでコンポーネントに子を渡した時に ( <code>anchored-heading</code> の内側の <code>Hello world!</code> のような) 、それらの子がコンポーネントインスタンス上の  <code>$slots.default</code> にストアされていることを知っている必要があります。もしまだ知らないなら、<strong>render 関数に進む前に <a href="../api/#インスタンスプロパティ">インスタンスプロパティAPI</a> を読むことをオススメします。</strong></p>
<h2 id="ノード、ツリー、および仮想-DOM"><a href="#ノード、ツリー、および仮想-DOM" class="headerlink" title="ノード、ツリー、および仮想 DOM"></a>ノード、ツリー、および仮想 DOM</h2><p>render 関数を説明する前に、ブラウザの仕組みについて少し知っておくことが重要です。例えば、次のように HTML を入力します。</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  Some text content
  <span class="hljs-comment">&lt;!-- <span class="hljs-doctag">TODO:</span> Add tagline  --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>

<p>ブラウザはこのコードを読み込むと、血縁関係を追跡するために家系図を構築するのと同じように、全てを追跡する <a href="https://javascript.info/dom-nodes" target="_blank" rel="noopener">“DOM ノード”ツリー</a>を構築します。</p>
<p>上記の HTML の DOM ノードのツリーは次のようになります。</p>
<p><img src="/images/dom-tree.png" alt="DOM Tree Visualization"></p>
<p>全ての要素はノードです。全てのテキストはノードです。コメントさえもノードです！ノードはページの一部に過ぎません。 そして、家系図のように、各ノードは子供を持つことができます(つまり、各部分には他の部分を含めることができます)。</p>
<p>これらのノードを全て効率的に更新するのは難しいかもしれませんが、ありがたいことに、手動で行う必要はありません。テンプレート内のどの HTML をページに表示するかを Vue に伝えるだけです。</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123; blogTitle &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></code></pre>

<p>または render 関数の場合:</p>
<pre><code class="hljs js">render: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
  <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'h1'</span>, <span class="hljs-keyword">this</span>.blogTitle)
&#125;</code></pre>

<p>どちらの場合でも、<code>blogTitle</code>が変更されるときでさえ、Vue はページを自動的に更新します。</p>
<h3 id="仮想-DOM"><a href="#仮想-DOM" class="headerlink" title="仮想 DOM"></a>仮想 DOM</h3><p>Vue は、実際の DOM に加える必要がある変更を追跡する<strong>仮想 DOM</strong> を構築することで、これを達成します。</p>
<pre><code class="hljs js"><span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'h1'</span>, <span class="hljs-keyword">this</span>.blogTitle)</code></pre>

<p><code>createElement</code> は実際に何を返しているのでしょうか？_正確には_実際の DOM 要素ではありません。どのノードを描画するかを記述した情報が子ノードの記述を含んで Vue に含まれているため、より正確には <code>createNodeDescription</code> という名前になります。このノード記述は”仮想ノード”と呼ばれ、通常は <strong>VNode</strong> と略されます。”仮想 DOM” は、Vue コンポーネントのツリーで構築された VNode のツリー全体と呼んでいるものです。</p>
<h2 id="createElement-引数"><a href="#createElement-引数" class="headerlink" title="createElement 引数"></a><code>createElement</code> 引数</h2><p>あなたが精通する必要がある次のことは <code>createElement</code> 関数の中でテンプレートの機能をどのように使うかについてです。こちらが <code>createElement</code> の受け付ける引数です。</p>
<pre><code class="hljs js"><span class="hljs-comment">// @returns &#123;VNode&#125;</span>
createElement(
  <span class="hljs-comment">// &#123;String | Object | Function&#125;</span>
  <span class="hljs-comment">// HTML タグ名、コンポーネントオプション、もしくは</span>
  <span class="hljs-comment">// そのどちらかを解決する非同期関数です。必須です。</span>
  <span class="hljs-string">'div'</span>,

  <span class="hljs-comment">// &#123;Object&#125;</span>
  <span class="hljs-comment">// テンプレート内で使うであろう属性に対応する</span>
  <span class="hljs-comment">// データオブジェクト。任意です。</span>
  &#123;
    <span class="hljs-comment">// (詳細は下の次のセクションをご参照ください)</span>
  &#125;,

  <span class="hljs-comment">// &#123;String | Array&#125;</span>
  <span class="hljs-comment">// 子のVNode。`createElement()` を使用して構築するか、</span>
  <span class="hljs-comment">// テキスト VNode の場合は単に文字列を使用します。任意です。</span>
  [
    <span class="hljs-string">'Some text comes first.'</span>,
    createElement(<span class="hljs-string">'h1'</span>, <span class="hljs-string">'A headline'</span>),
    createElement(MyComponent, &#123;
      <span class="hljs-attr">props</span>: &#123;
        <span class="hljs-attr">someProp</span>: <span class="hljs-string">'foobar'</span>
      &#125;
    &#125;)
  ]
)</code></pre>

<h3 id="データオブジェクト詳解"><a href="#データオブジェクト詳解" class="headerlink" title="データオブジェクト詳解"></a>データオブジェクト詳解</h3><p>1 つ注意点: <code>v-bind:class</code> と <code>v-bind:style</code> がテンプレート内で特殊な扱いをされているのと同じように、それらは VNode のデータオブジェクト内で自身のトップレベルフィールドを持ちます。このオブジェクトは <code>innerHTML</code> のような通常の HTML 属性だけでなく DOM プロパティもバインドすることができます(これは <code>v-html</code> ディレクティブに取って代わるものです):</p>
<pre><code class="hljs js">&#123;
  // `v-bind:class` と同じ API、いずれかを受け付ける
  // 文字列、オブジェクトまたは文字列とオブジェクトの配列
  class: &#123;
    foo: true,
    bar: false
  &#125;,
  // `v-bind:style` と同じ API、いずれかを受け付ける
  // 文字列、オブジェクトまたはオブジェクトの配列
  style: &#123;
    color: 'red',
    fontSize: '14px'
  &#125;,
  // 通常の HTML 属性
  attrs: &#123;
    id: 'foo'
  &#125;,
  // コンポーネントプロパティ
  props: &#123;
    myProp: 'bar'
  &#125;,
  // DOM プロパティ
  domProps: &#123;
    innerHTML: 'baz'
  &#125;,
  // イベントハンドラは `on` の配下に置かれます。
  // ただし、 `v-on:keyup.enter` などの修飾詞はサポートされません。
  // その代わり、手動で keyCode をハンドラの中で
  // 確認する必要があります。
  on: &#123;
    click: this.clickHandler
  &#125;,
  // コンポーネントの場合のみ。
  // `vm.$emit` を使ってコンポーネントから emit されるイベントではなく
  // ネイティブのイベントを listen することができます。
  nativeOn: &#123;
    click: this.nativeClickHandler
  &#125;,
  // カスタムディレクティブ。`binding` の `oldValue` については
  // あなたの代わりに Vue が面倒を見るので、設定することはできません。
  directives: [
    &#123;
      name: 'my-custom-directive',
      value: '2',
      expression: '1 + 1',
      arg: 'foo',
      modifiers: &#123;
        bar: true
      &#125;
    &#125;
  ],
  // &#123; name: props =&gt; VNode | Array&lt;VNode&gt; &#125;
  // の 形式でのスコープ付きスロット
  scopedSlots: &#123;
    default: props =&gt; createElement('span', props.text)
  &#125;,
  // このコンポーネントが他のコンポーネントの子の場合は、そのスロット名
  slot: 'name-of-slot',
  // 他の特殊なトップレベルのプロパティ
  key: 'myKey',
  ref: 'myRef',
  // If you are applying the same ref name to multiple
  // elements in the render function. This will make `$refs.myRef` become an
  // array
  refInFor: true
&#125;</code></pre>

<h3 id="完全な例"><a href="#完全な例" class="headerlink" title="完全な例"></a>完全な例</h3><p>これらの知識を使えば、私たちが始めたコンポーネントを完了させることができるようになりました。</p>
<pre><code class="hljs js"><span class="hljs-keyword">var</span> getChildrenTextContent = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">children</span>) </span>&#123;
  <span class="hljs-keyword">return</span> children.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>&#123;
    <span class="hljs-keyword">return</span> node.children
      ? getChildrenTextContent(node.children)
      : node.text
  &#125;).join(<span class="hljs-string">''</span>)
&#125;

Vue.component(<span class="hljs-string">'anchored-heading'</span>, &#123;
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
    <span class="hljs-comment">// kebab-case id の作成</span>
    <span class="hljs-keyword">var</span> headingId = getChildrenTextContent(<span class="hljs-keyword">this</span>.$slots.default)
      .toLowerCase()
      .replace(<span class="hljs-regexp">/\W+/g</span>, <span class="hljs-string">'-'</span>)
      .replace(<span class="hljs-regexp">/(^-|-$)/g</span>, <span class="hljs-string">''</span>)

    <span class="hljs-keyword">return</span> createElement(
      <span class="hljs-string">'h'</span> + <span class="hljs-keyword">this</span>.level,
      [
        createElement(<span class="hljs-string">'a'</span>, &#123;
          <span class="hljs-attr">attrs</span>: &#123;
            <span class="hljs-attr">name</span>: headingId,
            <span class="hljs-attr">href</span>: <span class="hljs-string">'#'</span> + headingId
          &#125;
        &#125;, <span class="hljs-keyword">this</span>.$slots.default)
      ]
    )
  &#125;,
  <span class="hljs-attr">props</span>: &#123;
    <span class="hljs-attr">level</span>: &#123;
      <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
    &#125;
  &#125;
&#125;)</code></pre>

<h3 id="制約"><a href="#制約" class="headerlink" title="制約"></a>制約</h3><h4 id="VNode-は一意でなければならない"><a href="#VNode-は一意でなければならない" class="headerlink" title="VNode は一意でなければならない"></a>VNode は一意でなければならない</h4><p>コンポーネントツリーの中で全ての VNode は一意でなければなりません。つまり、以下の render 関数は不正です。</p>
<pre><code class="hljs js">render: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
  <span class="hljs-keyword">var</span> myParagraphVNode = createElement(<span class="hljs-string">'p'</span>, <span class="hljs-string">'hi'</span>)
  <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'div'</span>, [
    <span class="hljs-comment">// うわ - 重複の VNodes ！</span>
    myParagraphVNode, myParagraphVNode
  ])
&#125;</code></pre>

<p>もし同じ要素 / コンポーネントを何度も重複させたい場合には、factory 関数を使うことで対応できます。例えば、次の render 関数は 20 個の一意に特定できるパラグラフを描画する完全に正当な方法です。</p>
<pre><code class="hljs js">render: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
  <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'div'</span>,
    <span class="hljs-built_in">Array</span>.apply(<span class="hljs-literal">null</span>, &#123; <span class="hljs-attr">length</span>: <span class="hljs-number">20</span> &#125;).map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'p'</span>, <span class="hljs-string">'hi'</span>)
    &#125;)
  )
&#125;</code></pre>

<h2 id="素の-JavaScript-によるテンプレートの書き換え"><a href="#素の-JavaScript-によるテンプレートの書き換え" class="headerlink" title="素の JavaScript によるテンプレートの書き換え"></a>素の JavaScript によるテンプレートの書き換え</h2><h3 id="v-if-と-v-for"><a href="#v-if-と-v-for" class="headerlink" title="v-if と v-for"></a><code>v-if</code> と <code>v-for</code></h3><p>どんなところでも素の JavaScript で簡単に物事は成し遂げることができるので、Vue の render 関数は独自の代替手段を提供しません。例えば、以下の <code>v-if</code> と <code>v-for</code> を使ったテンプレート：</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"items.length"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in items"</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else</span>&gt;</span>No items found.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre>

<p>これは render 関数においては JavaScript の <code>if</code> / <code>else</code> と <code>map</code> を使って書き換えることができます。</p>
<pre><code class="hljs js">props: [<span class="hljs-string">'items'</span>],
<span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.items.length) &#123;
    <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'ul'</span>, <span class="hljs-keyword">this</span>.items.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>&#123;
      <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'li'</span>, item.name)
    &#125;))
  &#125; <span class="hljs-keyword">else</span> &#123;
    <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'p'</span>, <span class="hljs-string">'No items found.'</span>)
  &#125;
&#125;</code></pre>

<h3 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a><code>v-model</code></h3><p>描画関数には直接的な <code>v-model</code> の対応はありません。 あなた自身でロジックを実装する必要があります:</p>
<pre><code class="hljs js">props: [<span class="hljs-string">'value'</span>],
<span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
  <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>
  <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'input'</span>, &#123;
    <span class="hljs-attr">domProps</span>: &#123;
      <span class="hljs-attr">value</span>: self.value
    &#125;,
    <span class="hljs-attr">on</span>: &#123;
      <span class="hljs-attr">input</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>&#123;
        self.$emit(<span class="hljs-string">'input'</span>, event.target.value)
      &#125;
    &#125;
  &#125;)
&#125;</code></pre>

<p>これは低レベルのコストですが、<code>v-model</code> と比較してインタラクションをより詳細に制御することもできます。</p>
<h3 id="イベントとキー修飾子"><a href="#イベントとキー修飾子" class="headerlink" title="イベントとキー修飾子"></a>イベントとキー修飾子</h3><p><code>.passive</code>、<code>.capture</code> と <code>.once</code> イベント修飾子に対して、Vue は <code>on</code> で使用できる接頭辞を提供しています:</p>
<table>
<thead>
<tr>
<th>修飾子</th>
<th>接頭辞</th>
</tr>
</thead>
<tbody><tr>
<td><code>.passive</code></td>
<td><code>&amp;</code></td>
</tr>
<tr>
<td><code>.capture</code></td>
<td><code>!</code></td>
</tr>
<tr>
<td><code>.once</code></td>
<td><code>~</code></td>
</tr>
<tr>
<td><code>.capture.once</code> または <br><code>.once.capture</code></td>
<td><code>~!</code></td>
</tr>
</tbody></table>
<p>例:</p>
<pre><code class="hljs javascript">on: &#123;
  <span class="hljs-string">'!click'</span>: <span class="hljs-keyword">this</span>.doThisInCapturingMode,
  <span class="hljs-string">'~keyup'</span>: <span class="hljs-keyword">this</span>.doThisOnce,
  <span class="hljs-string">'~!mouseover'</span>: <span class="hljs-keyword">this</span>.doThisOnceInCapturingMode
&#125;</code></pre>

<p>全ての他のイベントとキー修飾子に対しては、単にハンドラ内のイベントメソッドを使用できるため、独自の接頭辞は必要ありません:</p>
<table>
<thead>
<tr>
<th>修飾子</th>
<th>ハンドラに相当</th>
</tr>
</thead>
<tbody><tr>
<td><code>.stop</code></td>
<td><code>event.stopPropagation()</code></td>
</tr>
<tr>
<td><code>.prevent</code></td>
<td><code>event.preventDefault()</code></td>
</tr>
<tr>
<td><code>.self</code></td>
<td><code>if (event.target !== event.currentTarget) return</code></td>
</tr>
<tr>
<td>キー:<br><code>.enter</code>, <code>.13</code></td>
<td><code>if (event.keyCode !== 13) return</code> (他のキー修飾子に対して、<code>13</code> を<a href="http://keycode.info/" target="_blank" rel="noopener">別のキーコード</a>に変更する)</td>
</tr>
<tr>
<td>修飾子キー:<br><code>.ctrl</code>, <code>.alt</code>, <code>.shift</code>, <code>.meta</code></td>
<td><code>if (!event.ctrlKey) return</code> (<code>ctrlKey</code> を <code>altKey</code>、<code>shiftKey</code>、または <code>metaKey</code>、それぞれ変更する)</td>
</tr>
</tbody></table>
<p>以下に、これらの修飾子がすべて一緒に使用されている例を示します:</p>
<pre><code class="hljs javascript">on: &#123;
  <span class="hljs-attr">keyup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>&#123;
    <span class="hljs-comment">// イベントを発行している要素が、</span>
    <span class="hljs-comment">// イベントが束縛されている要素でない場合は中止します。</span>
    <span class="hljs-keyword">if</span> (event.target !== event.currentTarget) <span class="hljs-keyword">return</span>
    <span class="hljs-comment">// up したキーが enter キー (13) でなく、</span>
    <span class="hljs-comment">// shift キーが同時に押されていない場合は中止します。</span>
    <span class="hljs-keyword">if</span> (!event.shiftKey || event.keyCode !== <span class="hljs-number">13</span>) <span class="hljs-keyword">return</span>
    <span class="hljs-comment">// イベントの伝播を停止します。</span>
    event.stopPropagation()
    <span class="hljs-comment">// この要素に対する、デフォルトの keyup ハンドラを無効にします。</span>
    event.preventDefault()
    <span class="hljs-comment">// ...</span>
  &#125;
&#125;</code></pre>

<h3 id="スロット"><a href="#スロット" class="headerlink" title="スロット"></a>スロット</h3><p><a href="../api/#vm-slots"><code>this.$slots</code></a> から VNode の配列として静的なスロットの内容にアクセスできます:</p>
<pre><code class="hljs js">render: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
  <span class="hljs-comment">// `&lt;div&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;`</span>
  <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'div'</span>, <span class="hljs-keyword">this</span>.$slots.default)
&#125;</code></pre>

<p>そして、<a href="../api/#vm-scopedSlots"><code>this.$scopedSlots</code></a> から VNode を返す関数としてスコープ付きスロットにアクセスできます:</p>
<pre><code class="hljs js">props: [<span class="hljs-string">'message'</span>],
<span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
  <span class="hljs-comment">// `&lt;div&gt;&lt;slot :text="message"&gt;&lt;/slot&gt;&lt;/div&gt;`</span>
  <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'div'</span>, [
    <span class="hljs-keyword">this</span>.$scopedSlots.default(&#123;
      <span class="hljs-attr">text</span>: <span class="hljs-keyword">this</span>.message
    &#125;)
  ])
&#125;</code></pre>

<p>スコープ付きスロットを描画関数を使って子コンポーネントに渡すには、VNode データの <code>scopedSlots</code> フィールドを使います:</p>
<pre><code class="hljs js">render: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>&#123;
  <span class="hljs-comment">// `&lt;div&gt;&lt;child v-slot="props"&gt;&lt;span&gt;&#123;&#123; props.text &#125;&#125;&lt;/span&gt;&lt;/child&gt;&lt;/div&gt;`</span>
  <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'div'</span>, [
    createElement(<span class="hljs-string">'child'</span>, &#123;
      <span class="hljs-comment">// &#123; name: props =&gt; VNode | Array&lt;VNode&gt; &#125; の形式で</span>
      <span class="hljs-comment">// `scopedSlots` を データオブジェクトに渡す</span>
      scopedSlots: &#123;
        <span class="hljs-attr">default</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">props</span>) </span>&#123;
          <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'span'</span>, props.text)
        &#125;
      &#125;
    &#125;)
  ])
&#125;</code></pre>

<h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><p>もしあなたが多くの render 関数を書いている場合は、このような書き方はつらいと感じるかもしれません。</p>
<pre><code class="hljs js">createElement(
  <span class="hljs-string">'anchored-heading'</span>, &#123;
    <span class="hljs-attr">props</span>: &#123;
      <span class="hljs-attr">level</span>: <span class="hljs-number">1</span>
    &#125;
  &#125;, [
    createElement(<span class="hljs-string">'span'</span>, <span class="hljs-string">'Hello'</span>),
    <span class="hljs-string">' world!'</span>
  ]
)</code></pre>

<p>特に、テンプレートならそれにくらべてこんなに簡単に書けるという場合は:</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">anchored-heading</span> <span class="hljs-attr">:level</span>=<span class="hljs-string">"1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> world!
<span class="hljs-tag">&lt;/<span class="hljs-name">anchored-heading</span>&gt;</span></code></pre>

<p>そのような理由から Vue で JSX を使うための <a href="https://github.com/vuejs/jsx" target="_blank" rel="noopener">Babel プラグイン</a> があります。よりテンプレートに近い文法が戻ってきました。</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> AnchoredHeading <span class="hljs-keyword">from</span> <span class="hljs-string">'./AnchoredHeading.vue'</span>

<span class="hljs-keyword">new</span> Vue(&#123;
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#demo'</span>,
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">h</span>) </span>&#123;
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AnchoredHeading</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&#123;1&#125;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> world!
      <span class="hljs-tag">&lt;/<span class="hljs-name">AnchoredHeading</span>&gt;</span></span>
    )
  &#125;
&#125;)</code></pre>

<p class="tip">`createElement` を `h` にエイリアスしていることは、 Vue のエコシステムの中でよく見かける慣習です。そして、それは実は JSX には必須です。Vue の Babel プラグインの [バージョン 3.4.0](https://github.com/vuejs/babel-plugin-transform-vue-jsx#h-auto-injection) 以降では、ES2015 のシンタックスで宣言された JSX を含むメソッドや getter（関数やアロー関数は対象外）に対しては、自動的に `const h = this.$createElement` が注入されるため、`(h)` パラメーターは省略できます。それ以前のバージョンでは、もし `h` がそのスコープ内で利用可能でない場合、アプリケーションはエラーを throw するでしょう。</p>

<p>より詳しい JSX の JavaScript へのマップの仕方については、<a href="https://github.com/vuejs/jsx#installation" target="_blank" rel="noopener">usage ドキュメント</a> をご参照ください。</p>
<h2 id="関数型コンポーネント"><a href="#関数型コンポーネント" class="headerlink" title="関数型コンポーネント"></a>関数型コンポーネント</h2><p>先ほど作成したアンカーヘッダコンポーネントは比較的シンプルです。状態の管理や渡された状態の watch をしておらず、また、何もライフサイクルメソッドを持ちません。実際、これはいくつかのプロパティを持つただの関数です。</p>
<p>このようなケースにおいて、私たちは <code>関数型</code> としてコンポーネントをマークすることができます。それは状態を持たない (<a href="../api/#オプション-データ">リアクティブデータ</a>が無い) でインスタンスを持たない ( <code>this</code> のコンテキストが無い) ことを意味します。<strong>関数型コンポーネント</strong> は次のような形式をしています。</p>
<pre><code class="hljs js">Vue.component(<span class="hljs-string">'my-component'</span>, &#123;
  <span class="hljs-attr">functional</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-comment">// プロパティは任意です</span>
  props: &#123;
    <span class="hljs-comment">// ...</span>
  &#125;,
  <span class="hljs-comment">// インスタンスが無いことを補うために、</span>
  <span class="hljs-comment">// 2 つ目の context 引数が提供されます。</span>
  render: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement, context</span>) </span>&#123;
    <span class="hljs-comment">// ...</span>
  &#125;
&#125;)</code></pre>

<blockquote>
<p>注意: 2.3.0 以前のバージョンでは、<code>props</code> オプションは、関数型コンポーネントでプロパティを受け入れたい場合必須です。2.3.0 以降では、<code>props</code> オプションを省略することができ、そしてコンポーネントのノード上にある全ての属性は、暗黙的にプロパティとして抽出されます。</p>
<p>関数型コンポーネントは状態を持たずインスタンス化もできないので、その参照は HTMLElement になります。</p>
</blockquote>
<p>2.5.0以降では、<a href="single-file-components.html">単一ファイルコンポーネント</a>を使用している場合、テンプレートベースの関数型コンポーネントは次のように宣言できます。</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">functional</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>

<p>コンポーネントが必要とする全てのものは <code>context</code> を通して渡されます。それは次を含むオブジェクトです。</p>
<ul>
<li><code>props</code>: 提供されるプロパティのオブジェクト</li>
<li><code>children</code>: 子 VNode の配列</li>
<li><code>slots</code>: slots オブジェクトを返す関数</li>
<li><code>scopedSlots</code>: (2.6.0 以降) スコープ付きスロットを公開するオブジェクト。通常のスロットも関数として公開します</li>
<li><code>data</code>: <code>createElement</code> の第 2 引数としてコンポーネントに渡される全体の<a href="#データオブジェクト詳解">データオブジェクト</a></li>
<li><code>parent</code>: 親コンポーネントへの参照</li>
<li><code>listeners</code>: (2.3.0 以降) 親に登録されたイベントリスナーを含むオブジェクト。これは単純に <code>data.on</code> のエイリアスです</li>
<li><code>injections</code>: (2.3.0 以降) <a href="../api/#provide-inject"><code>inject</code></a> オプションで使用する場合、これは解決されたインジェクション(注入)が含まれます</li>
</ul>
<p><code>functional: true</code> を追加した後、私たちのアンカーヘッダコンポーネントの render 関数の更新として単に必要になるのは、<br><code>context</code> 引数の追加、<code>this.$slots.default</code> の <code>context.children</code> への更新、<code>this.level</code> の <code>context.props.level</code> への更新でしょう。</p>
<p>関数型コンポーネントはただの関数なので、描画コストは少ないです。</p>
<p>また、ラッパーコンポーネントとしてもとても便利です。例えば、以下が必要な時に。</p>
<ul>
<li>いくつかの他のコンポーネントから 1 つ委譲するためのものをプログラムで選ぶ時</li>
<li>子、プロパティ、または、データを子コンポーネントへ渡る前に操作したい時</li>
</ul>
<p>こちらが、渡されるプロパティに応じてより具体的なコンポーネントに委譲する <code>smart-list</code> コンポーネントの例です。</p>
<pre><code class="hljs js"><span class="hljs-keyword">var</span> EmptyList = &#123; <span class="hljs-comment">/* ... */</span> &#125;
<span class="hljs-keyword">var</span> TableList = &#123; <span class="hljs-comment">/* ... */</span> &#125;
<span class="hljs-keyword">var</span> OrderedList = &#123; <span class="hljs-comment">/* ... */</span> &#125;
<span class="hljs-keyword">var</span> UnorderedList = &#123; <span class="hljs-comment">/* ... */</span> &#125;

Vue.component(<span class="hljs-string">'smart-list'</span>, &#123;
  <span class="hljs-attr">functional</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">props</span>: &#123;
    <span class="hljs-attr">items</span>: &#123;
      <span class="hljs-attr">type</span>: <span class="hljs-built_in">Array</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
    &#125;,
    <span class="hljs-attr">isOrdered</span>: <span class="hljs-built_in">Boolean</span>
  &#125;,
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement, context</span>) </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">appropriateListComponent</span> (<span class="hljs-params"></span>) </span>&#123;
      <span class="hljs-keyword">var</span> items = context.props.items

      <span class="hljs-keyword">if</span> (items.length === <span class="hljs-number">0</span>)           <span class="hljs-keyword">return</span> EmptyList
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> items[<span class="hljs-number">0</span>] === <span class="hljs-string">'object'</span>) <span class="hljs-keyword">return</span> TableList
      <span class="hljs-keyword">if</span> (context.props.isOrdered)      <span class="hljs-keyword">return</span> OrderedList

      <span class="hljs-keyword">return</span> UnorderedList
    &#125;

    <span class="hljs-keyword">return</span> createElement(
      appropriateListComponent(),
      context.data,
      context.children
    )
  &#125;
&#125;)</code></pre>

<h3 id="子要素-コンポーネントへの属性およびイベントの受け渡し"><a href="#子要素-コンポーネントへの属性およびイベントの受け渡し" class="headerlink" title="子要素/コンポーネントへの属性およびイベントの受け渡し"></a>子要素/コンポーネントへの属性およびイベントの受け渡し</h3><p>通常のコンポーネントでは、props として定義されていない属性はコンポーネントのルート要素に自動的に追加され、同名の既存の属性と置換または<a href="class-and-style.html">賢くマージ</a>されます。</p>
<p>ところが、関数型コンポーネントでは、この動作を明示的に定義する必要があります:</p>
<pre><code class="hljs js">Vue.component(<span class="hljs-string">'my-functional-button'</span>, &#123;
  <span class="hljs-attr">functional</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement, context</span>) </span>&#123;
    <span class="hljs-comment">// 任意の属性、イベントリスナ、子などを透過的に渡します。</span>
    <span class="hljs-keyword">return</span> createElement(<span class="hljs-string">'button'</span>, context.data, context.children)
  &#125;
&#125;)</code></pre>

<p><code>context.data</code> を <code>createElement</code> の第2引数として渡すことで、<code>my-function-button</code> で使用された属性やイベントリスナを渡しています。実際、イベントは <code>.native</code> 修飾子を必要としないため、とても透過的です。</p>
<p>もしあなたがテンプレートベースの関数型コンポーネントを使用している場合、属性とリスナーも手動で追加する必要があります。私たちは個々のコンテキストの内容にアクセスできるので、イベントリスナを渡すための <code>listeners</code> <em>(<code>data.on</code> のエイリアス)</em> と HTML の属性を渡すための <code>data.attrs</code> を使用することができます。</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">functional</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
    <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary"</span>
    <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"data.attrs"</span>
    <span class="hljs-attr">v-on</span>=<span class="hljs-string">"listeners"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>

<h3 id="slots-vs-children"><a href="#slots-vs-children" class="headerlink" title="slots() vs children"></a><code>slots()</code> vs <code>children</code></h3><p>もしかするとなぜ <code>slots()</code> と <code>children</code> の両方が必要なのか不思議に思うかもしれません。 <code>slots().default</code> は <code>children</code> と同じではないのですか？いくつかのケースではそうですが、もし以下の子を持つ関数型コンポーネントの場合はどうなるでしょう。</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">my-functional-component</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-slot:foo</span>&gt;</span>
    first
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>second<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">my-functional-component</span>&gt;</span></code></pre>

<p>このコンポーネントの場合、 <code>children</code> は両方のパラグラフが与えられます。<code>slots().default</code> は 2 つ目のものだけ与えられます。そして <code>slots().foo</code> は 1 つ目のものだけです。したがって、 <code>children</code> と <code>slots()</code> の両方を持つことで このコンポーネントが slot システムを知っているか、もしくは、単純に <code>children</code> を渡しておそらく他のコンポーネントへその責任を委譲するかどうかを選べるようになります。</p>
<h2 id="テンプレートのコンパイル"><a href="#テンプレートのコンパイル" class="headerlink" title="テンプレートのコンパイル"></a>テンプレートのコンパイル</h2><p>もしかすると Vue のテンプレートが実際に render 関数にコンパイルされることを知ることに興味を持つかもしれません。これは普段あなたは知る必要もない実装の詳細ですが、どのように特定のテンプレート機能がコンパイルされるかをもし見たいならこれに興味を持つかもしれません。以下は <code>Vue.compile</code> を使ってテンプレート文字列をその場でコンパイルをするちょっとしたデモです。</p>
<iframe src="https://codesandbox.io/embed/github/vuejs/vuejs.org/tree/master/src/v2/examples/vue-20-template-compilation?codemirror=1&hidedevtools=1&hidenavigation=1&theme=light&view=preview" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="vue-20-template-compilation" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>

  
  
    <div class="guide-links">
      
      
        <span>← <a href="/v2/guide/custom-directive.html">カスタムディレクティブ</a></span>
      
      
      
        <span style="float: right;"><a href="/v2/guide/plugins.html">プラグイン</a> →</span>
      
    </div>
  
  <div class="footer">
      <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div id="bsa-native"></div>
<script>
_bsa.init('custom', 'CKYD62QM', 'placement:vuejsorg',
  {
    target: '#bsa-native',
    template: '<a class="native-box" href="##statlink##"><div class="native-sponsor">Sponsor</div><div class="native-text"><strong>##company##</strong> — ##description##</div></a>'
  }
);
</script>


    間違いを見つけた、またはドキュメントに貢献したいですか？
    <a href="https://github.com/vuejs/jp.vuejs.org/blob/lang-ja/src/v2/guide/render-function.md" rel="noopener" target="_blank">
      GitHub で編集しましょう！
    </a>
    このサイトは
    <a href="https://url.netlify.com/HJ8X2mxP8" rel="noopener" target="_blank">
      Netlify
    </a>
    でホストされています。
  </div>
</div>

      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/search.css">
    <script src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '0a75952972806d9ad07e387d08e9cc4c',
      indexName: 'vuejs_jp',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] },
      autocompleteOptions: { hint: false, appendTo: 'body'}
      })
    })
    </script>
  </body>
</html>
